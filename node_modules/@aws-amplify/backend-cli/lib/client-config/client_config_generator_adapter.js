import { generateClientConfig, generateClientConfigToFile, } from '@aws-amplify/client-config';
import { printer } from '../printer.js';
/**
 * Adapts static generateClientConfigToFile from @aws-amplify/client-config call to make it injectable and testable.
 */
export class ClientConfigGeneratorAdapter {
    awsCredentialProvider;
    /**
     * Creates new adapter for generateClientConfigToFile from @aws-amplify/client-config.
     */
    constructor(awsCredentialProvider) {
        this.awsCredentialProvider = awsCredentialProvider;
    }
    /**
     * Generates the client configuration for a given backend
     */
    generateClientConfig = async (backendIdentifier) => {
        return generateClientConfig(this.awsCredentialProvider, backendIdentifier);
    };
    /**
     * Calls generateClientConfigToFile from @aws-amplify/client-config.
     * @see generateClientConfigToFile for more information.
     */
    generateClientConfigToFile = async (backendIdentifier, outDir, format) => {
        await generateClientConfigToFile(this.awsCredentialProvider, backendIdentifier, outDir, format, (message) => printer.log(message));
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50X2NvbmZpZ19nZW5lcmF0b3JfYWRhcHRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jbGllbnQtY29uZmlnL2NsaWVudF9jb25maWdfZ2VuZXJhdG9yX2FkYXB0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUdMLG9CQUFvQixFQUNwQiwwQkFBMEIsR0FDM0IsTUFBTSw0QkFBNEIsQ0FBQztBQUdwQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXhDOztHQUVHO0FBQ0gsTUFBTSxPQUFPLDRCQUE0QjtJQUtwQjtJQUpuQjs7T0FFRztJQUNILFlBQ21CLHFCQUFvRDtRQUFwRCwwQkFBcUIsR0FBckIscUJBQXFCLENBQStCO0lBQ3BFLENBQUM7SUFDSjs7T0FFRztJQUNILG9CQUFvQixHQUFHLEtBQUssRUFDMUIsaUJBQTRDLEVBQ3JCLEVBQUU7UUFDekIsT0FBTyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUM3RSxDQUFDLENBQUM7SUFFRjs7O09BR0c7SUFDSCwwQkFBMEIsR0FBRyxLQUFLLEVBQ2hDLGlCQUE0QyxFQUM1QyxNQUFlLEVBQ2YsTUFBMkIsRUFDWixFQUFFO1FBQ2pCLE1BQU0sMEJBQTBCLENBQzlCLElBQUksQ0FBQyxxQkFBcUIsRUFDMUIsaUJBQWlCLEVBQ2pCLE1BQU0sRUFDTixNQUFNLEVBQ04sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQ2xDLENBQUM7SUFDSixDQUFDLENBQUM7Q0FDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENsaWVudENvbmZpZyxcbiAgQ2xpZW50Q29uZmlnRm9ybWF0LFxuICBnZW5lcmF0ZUNsaWVudENvbmZpZyxcbiAgZ2VuZXJhdGVDbGllbnRDb25maWdUb0ZpbGUsXG59IGZyb20gJ0Bhd3MtYW1wbGlmeS9jbGllbnQtY29uZmlnJztcbmltcG9ydCB7IERlcGxveWVkQmFja2VuZElkZW50aWZpZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvZGVwbG95ZWQtYmFja2VuZC1jbGllbnQnO1xuaW1wb3J0IHsgQXdzQ3JlZGVudGlhbElkZW50aXR5UHJvdmlkZXIgfSBmcm9tICdAYXdzLXNkay90eXBlcyc7XG5pbXBvcnQgeyBwcmludGVyIH0gZnJvbSAnLi4vcHJpbnRlci5qcyc7XG5cbi8qKlxuICogQWRhcHRzIHN0YXRpYyBnZW5lcmF0ZUNsaWVudENvbmZpZ1RvRmlsZSBmcm9tIEBhd3MtYW1wbGlmeS9jbGllbnQtY29uZmlnIGNhbGwgdG8gbWFrZSBpdCBpbmplY3RhYmxlIGFuZCB0ZXN0YWJsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudENvbmZpZ0dlbmVyYXRvckFkYXB0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgYWRhcHRlciBmb3IgZ2VuZXJhdGVDbGllbnRDb25maWdUb0ZpbGUgZnJvbSBAYXdzLWFtcGxpZnkvY2xpZW50LWNvbmZpZy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXdzQ3JlZGVudGlhbFByb3ZpZGVyOiBBd3NDcmVkZW50aWFsSWRlbnRpdHlQcm92aWRlclxuICApIHt9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgdGhlIGNsaWVudCBjb25maWd1cmF0aW9uIGZvciBhIGdpdmVuIGJhY2tlbmRcbiAgICovXG4gIGdlbmVyYXRlQ2xpZW50Q29uZmlnID0gYXN5bmMgKFxuICAgIGJhY2tlbmRJZGVudGlmaWVyOiBEZXBsb3llZEJhY2tlbmRJZGVudGlmaWVyXG4gICk6IFByb21pc2U8Q2xpZW50Q29uZmlnPiA9PiB7XG4gICAgcmV0dXJuIGdlbmVyYXRlQ2xpZW50Q29uZmlnKHRoaXMuYXdzQ3JlZGVudGlhbFByb3ZpZGVyLCBiYWNrZW5kSWRlbnRpZmllcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGxzIGdlbmVyYXRlQ2xpZW50Q29uZmlnVG9GaWxlIGZyb20gQGF3cy1hbXBsaWZ5L2NsaWVudC1jb25maWcuXG4gICAqIEBzZWUgZ2VuZXJhdGVDbGllbnRDb25maWdUb0ZpbGUgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZW5lcmF0ZUNsaWVudENvbmZpZ1RvRmlsZSA9IGFzeW5jIChcbiAgICBiYWNrZW5kSWRlbnRpZmllcjogRGVwbG95ZWRCYWNrZW5kSWRlbnRpZmllcixcbiAgICBvdXREaXI/OiBzdHJpbmcsXG4gICAgZm9ybWF0PzogQ2xpZW50Q29uZmlnRm9ybWF0XG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IGdlbmVyYXRlQ2xpZW50Q29uZmlnVG9GaWxlKFxuICAgICAgdGhpcy5hd3NDcmVkZW50aWFsUHJvdmlkZXIsXG4gICAgICBiYWNrZW5kSWRlbnRpZmllcixcbiAgICAgIG91dERpcixcbiAgICAgIGZvcm1hdCxcbiAgICAgIChtZXNzYWdlKSA9PiBwcmludGVyLmxvZyhtZXNzYWdlKVxuICAgICk7XG4gIH07XG59XG4iXX0=