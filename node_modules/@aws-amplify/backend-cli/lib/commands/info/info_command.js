import * as os from 'node:os';
import { printer } from '../../printer.js';
/**
 * Represents the InfoCommand class.
 */
export class InfoCommand {
    environmentInfoProvider;
    cdkInfoProvider;
    /**
     * @inheritDoc
     */
    command;
    /**
     * @inheritDoc
     */
    describe;
    /**
     * Creates top level entry point for generate command.
     */
    constructor(environmentInfoProvider, cdkInfoProvider) {
        this.environmentInfoProvider = environmentInfoProvider;
        this.cdkInfoProvider = cdkInfoProvider;
        this.command = 'info';
        this.describe = 'Generates information for Amplify troubleshooting';
    }
    /**
     * @inheritDoc
     */
    handler = async () => {
        const environmentInfo = await this.environmentInfoProvider.getEnvInfo();
        const cdkInfo = await this.cdkInfoProvider.getCdkInfo();
        printer.print(`${environmentInfo}${os.EOL}${cdkInfo}`);
    };
    /**
     * @inheritDoc
     */
    builder = (yargs) => {
        return yargs.version(false).help();
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mb19jb21tYW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1hbmRzL2luZm8vaW5mb19jb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBSTlCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUzQzs7R0FFRztBQUNILE1BQU0sT0FBTyxXQUFXO0lBZUg7SUFDQTtJQWZuQjs7T0FFRztJQUNNLE9BQU8sQ0FBUztJQUV6Qjs7T0FFRztJQUNNLFFBQVEsQ0FBUztJQUUxQjs7T0FFRztJQUNILFlBQ21CLHVCQUFnRCxFQUNoRCxlQUFnQztRQURoQyw0QkFBdUIsR0FBdkIsdUJBQXVCLENBQXlCO1FBQ2hELG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtRQUVqRCxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsUUFBUSxHQUFHLG1EQUFtRCxDQUFDO0lBQ3RFLENBQUM7SUFFRDs7T0FFRztJQUNILE9BQU8sR0FBRyxLQUFLLElBQW1CLEVBQUU7UUFDbEMsTUFBTSxlQUFlLEdBQUcsTUFBTSxJQUFJLENBQUMsdUJBQXVCLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDeEUsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBRXhELE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxlQUFlLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQztJQUVGOztPQUVHO0lBQ0gsT0FBTyxHQUFHLENBQUMsS0FBVyxFQUFRLEVBQUU7UUFDOUIsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3JDLENBQUMsQ0FBQztDQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgb3MgZnJvbSAnbm9kZTpvcyc7XG5pbXBvcnQgeyBBcmd2LCBDb21tYW5kTW9kdWxlIH0gZnJvbSAneWFyZ3MnO1xuaW1wb3J0IHsgQ2RrSW5mb1Byb3ZpZGVyIH0gZnJvbSAnLi4vLi4vaW5mby9jZGtfaW5mb19wcm92aWRlci5qcyc7XG5pbXBvcnQgeyBFbnZpcm9ubWVudEluZm9Qcm92aWRlciB9IGZyb20gJy4uLy4uL2luZm8vZW52X2luZm9fcHJvdmlkZXIuanMnO1xuaW1wb3J0IHsgcHJpbnRlciB9IGZyb20gJy4uLy4uL3ByaW50ZXIuanMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIEluZm9Db21tYW5kIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgSW5mb0NvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kTW9kdWxlPG9iamVjdD4ge1xuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIHJlYWRvbmx5IGNvbW1hbmQ6IHN0cmluZztcblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIHJlYWRvbmx5IGRlc2NyaWJlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdG9wIGxldmVsIGVudHJ5IHBvaW50IGZvciBnZW5lcmF0ZSBjb21tYW5kLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbnZpcm9ubWVudEluZm9Qcm92aWRlcjogRW52aXJvbm1lbnRJbmZvUHJvdmlkZXIsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjZGtJbmZvUHJvdmlkZXI6IENka0luZm9Qcm92aWRlclxuICApIHtcbiAgICB0aGlzLmNvbW1hbmQgPSAnaW5mbyc7XG4gICAgdGhpcy5kZXNjcmliZSA9ICdHZW5lcmF0ZXMgaW5mb3JtYXRpb24gZm9yIEFtcGxpZnkgdHJvdWJsZXNob290aW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgaGFuZGxlciA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBlbnZpcm9ubWVudEluZm8gPSBhd2FpdCB0aGlzLmVudmlyb25tZW50SW5mb1Byb3ZpZGVyLmdldEVudkluZm8oKTtcbiAgICBjb25zdCBjZGtJbmZvID0gYXdhaXQgdGhpcy5jZGtJbmZvUHJvdmlkZXIuZ2V0Q2RrSW5mbygpO1xuXG4gICAgcHJpbnRlci5wcmludChgJHtlbnZpcm9ubWVudEluZm99JHtvcy5FT0x9JHtjZGtJbmZvfWApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgYnVpbGRlciA9ICh5YXJnczogQXJndik6IEFyZ3YgPT4ge1xuICAgIHJldHVybiB5YXJncy52ZXJzaW9uKGZhbHNlKS5oZWxwKCk7XG4gIH07XG59XG4iXX0=