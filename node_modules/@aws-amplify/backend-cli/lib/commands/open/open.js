import opn from 'open';
import { printer } from '../../printer.js';
/**
 * Helper class to open apps (URLs, files, executable). Cross-platform.
 */
export class Open {
    static open = async (target, options) => {
        let childProcess;
        try {
            childProcess = await opn(target, options);
            childProcess.on('error', (e) => this.handleOpenError(e, target));
        }
        catch (e) {
            this.handleOpenError(e, target);
            return;
        }
        return childProcess;
    };
    static handleOpenError = (err, target) => {
        printer.log(`Unable to open ${target}: ${err.message}`);
        if ('code' in err && err['code'] === 'ENOENT') {
            printer.log('Have you installed `xdg-utils` on your machine?');
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3Blbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9vcGVuL29wZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFnQixNQUFNLE1BQU0sQ0FBQztBQUVwQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFM0M7O0dBRUc7QUFDSCxNQUFNLE9BQU8sSUFBSTtJQUNmLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxFQUNqQixNQUFjLEVBQ2QsT0FBZ0IsRUFDYyxFQUFFO1FBQ2hDLElBQUksWUFBMEIsQ0FBQztRQUMvQixJQUFJO1lBQ0YsWUFBWSxHQUFHLE1BQU0sR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUMxQyxZQUFZLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztTQUNsRTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDekMsT0FBTztTQUNSO1FBQ0QsT0FBTyxZQUFZLENBQUM7SUFDdEIsQ0FBQyxDQUFDO0lBRUYsTUFBTSxDQUFDLGVBQWUsR0FBRyxDQUFDLEdBQVUsRUFBRSxNQUFjLEVBQUUsRUFBRTtRQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixNQUFNLEtBQUssR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDeEQsSUFBSSxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxRQUFRLEVBQUU7WUFDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1NBQ2hFO0lBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG9wbiwgeyBPcHRpb25zIH0gZnJvbSAnb3Blbic7XG5pbXBvcnQgeyBDaGlsZFByb2Nlc3MgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IHByaW50ZXIgfSBmcm9tICcuLi8uLi9wcmludGVyLmpzJztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gb3BlbiBhcHBzIChVUkxzLCBmaWxlcywgZXhlY3V0YWJsZSkuIENyb3NzLXBsYXRmb3JtLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbiB7XG4gIHN0YXRpYyBvcGVuID0gYXN5bmMgKFxuICAgIHRhcmdldDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IE9wdGlvbnNcbiAgKTogUHJvbWlzZTxDaGlsZFByb2Nlc3MgfCB2b2lkPiA9PiB7XG4gICAgbGV0IGNoaWxkUHJvY2VzczogQ2hpbGRQcm9jZXNzO1xuICAgIHRyeSB7XG4gICAgICBjaGlsZFByb2Nlc3MgPSBhd2FpdCBvcG4odGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgIGNoaWxkUHJvY2Vzcy5vbignZXJyb3InLCAoZSkgPT4gdGhpcy5oYW5kbGVPcGVuRXJyb3IoZSwgdGFyZ2V0KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5oYW5kbGVPcGVuRXJyb3IoZSBhcyBFcnJvciwgdGFyZ2V0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkUHJvY2VzcztcbiAgfTtcblxuICBzdGF0aWMgaGFuZGxlT3BlbkVycm9yID0gKGVycjogRXJyb3IsIHRhcmdldDogc3RyaW5nKSA9PiB7XG4gICAgcHJpbnRlci5sb2coYFVuYWJsZSB0byBvcGVuICR7dGFyZ2V0fTogJHtlcnIubWVzc2FnZX1gKTtcbiAgICBpZiAoJ2NvZGUnIGluIGVyciAmJiBlcnJbJ2NvZGUnXSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIHByaW50ZXIubG9nKCdIYXZlIHlvdSBpbnN0YWxsZWQgYHhkZy11dGlsc2Agb24geW91ciBtYWNoaW5lPycpO1xuICAgIH1cbiAgfTtcbn1cbiJdfQ==